### Spendy API Examples
### Use REST Client extension in VS Code or any HTTP client

@baseUrl = http://localhost:8000
@apiV1 = {{baseUrl}}/api/v1

### Variables (fill in after getting token)
@accessToken = YOUR_TOKEN_HERE

###############################################
# Health Check
###############################################

### Health check
GET {{baseUrl}}/health

### Root endpoint
GET {{baseUrl}}/

###############################################
# Authentication
###############################################

### 1. Register new user
POST {{apiV1}}/auth/register
Content-Type: application/json

{
  "email": "test@example.com",
  "username": "testuser",
  "password": "testpassword123",
  "full_name": "Test User"
}

###

### 2. Register second user
POST {{apiV1}}/auth/register
Content-Type: application/json

{
  "email": "john@example.com",
  "username": "john",
  "password": "john123456",
  "full_name": "John Doe"
}

###

### 3. Login
POST {{apiV1}}/auth/login
Content-Type: application/x-www-form-urlencoded

username=testuser&password=testpassword123

###

### 4. Login with email
POST {{apiV1}}/auth/login
Content-Type: application/x-www-form-urlencoded

username=test@example.com&password=testpassword123

###

### 5. Get current user data
GET {{apiV1}}/auth/me
Authorization: Bearer {{accessToken}}

###

###############################################
# Error Cases (for testing)
###############################################

### Register with existing email (should return error)
POST {{apiV1}}/auth/register
Content-Type: application/json

{
  "email": "test@example.com",
  "username": "anotheruser",
  "password": "password123",
  "full_name": "Another User"
}

###

### Register with existing username (should return error)
POST {{apiV1}}/auth/register
Content-Type: application/json

{
  "email": "another@example.com",
  "username": "testuser",
  "password": "password123",
  "full_name": "Another User"
}

###

### Login with wrong password (should return error)
POST {{apiV1}}/auth/login
Content-Type: application/x-www-form-urlencoded

username=testuser&password=wrongpassword

###

### Login with non-existent user (should return error)
POST {{apiV1}}/auth/login
Content-Type: application/x-www-form-urlencoded

username=nonexistent&password=password123

###

### Access without token (should return 401)
GET {{apiV1}}/auth/me

###

### Access with invalid token (should return 401)
GET {{apiV1}}/auth/me
Authorization: Bearer invalid_token_here

###
